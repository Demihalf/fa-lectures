\section{Компактные операторы}
Далее $X$ и $Y$ --- банаховы пространства.

\begin{definition}
    Оператор $A \in L(X, Y)$ называется \emph{компактным}, если образ $A(M)$ всякого ограниченного
    множества $M \subset X$ есть предкомпактное множество в $Y$.

    Множество компактных операторов, действующих из $X$ в $Y$ будем обозначать
     $\comp{X,Y}$. Как обычно, если $X = Y$, пишут $\comp{X}$.
\end{definition}

Можно показать, что для компактности оператора $A$ достаточно показать предкомпактность образа
единичного шара.

\begin{remark}
Из теоремы Хаусдорфа следует, что оператор компактен тогда и только тогда, когда для каждой
ограниченной последовательности $\menge{x_n}$ из последовательности $\menge{Ax_n}$ можно выжелить
сходящуюся в $Y$ подпоследовательность.
\end{remark}

\begin{definition}
    Оператор $A \in L(X, Y)$ называется \emph{оператором с конечным рангом}, если его образ
    $\im A$ есть конечномерное подпространство в $Y$.
\end{definition}

\begin{theorem}
    Для того чтобы множество из конечномерного банахова пространства было предкомпактно,
    необходимо и достаточно чтобы оно было ограничено. Как следствие, такое множество компактно
    тогда и только тогда, когда оно замкнуто и ограничено.
\end{theorem}

\begin{theorem}
    Всякий оператор с конечным рангом компактен.
\end{theorem}

\begin{proof}
    Поскольку $A$ ограничен, он переводит ограниченное множество $M$ в ограниченное. Но поскольку
    $\im A$ конечномерен, то по предыдущей теореме $A(M)$ предкомпактно.
\end{proof}

\begin{example}
    Пусть $A \colon C[a, b] \to C[a, b]$ --- интегральный оператор с ядром 
    $K \in C([a,b] \times [a,b])$.

    Используя теорему Арцела, можно показать, что всякий интегральный оператор компактен.

    Ядро $K$ называется \emph{вырожденным}, если его можно представить в виде
    \[ K(t, s) = \sum_{i=1}^n p_i(t) q_i(s), \]
    где $p_i, q_i \in C[a, b]$ и $p_i$ линейно независимы.

    Оператор с вырожденным ядром является оператором с конечным рангом. В самом деле:
    \[ (Ax)(t) = \sum_{i=1}^n \, p_i(t) \!\! \int_a^b \! q_i(s) x(s) \dd s, \]
    то есть всякая функция $Ax \in C[a,b]$ представима в виде линейной комбинации 
    $p_i$, которые линейно независимы, а значит образуют базис в $\im A$.
\end{example}

\begin{definition}
    Подмножество $I \subset A$ алгебры $A$ называется \emph{идеалом (двусторонним идеалом)}, если
    оно является подпространством в $A$ и для всех $a \in A$ и $b \in I$ справедливы равенства
    \[ ab \in I, \quad ba \in I. \]
\end{definition}

\begin{theorem}
    Множество $\comp{X,Y}$ образует замкнутое подпространство в $L(X, Y)$. Если $X = Y$,
    то $\comp{X}$ --- двусторонний идеал в банаховой алгебре $L(X)$.
\end{theorem}

\begin{proof}
    Докажем, что $\comp{X,Y}$ образует подпространство в $L(X, Y)$. Пусть $A, B \in \comp{X, Y}$.
    Если $\menge{x_n} \subset X$ --- ограниченная последовательность, то из
    $\menge{(\alpha A + \beta B)x_n}$ можно выделить сходящуюся,
    выделив сходящуюся сначала из последовательности $\menge{Ax_n}$ --- $\menge{Ax_{n_k}}$, а 
    затем выделить сходящуюся из $\menge{Bx_{n_k}}$ --- $\{Bx_{n_{k_i}}\}$. Тогда 
    последовательность
    $\{(\alpha A + \beta B)x_{n_{k_i}}\}$ также будет сходящейся, то есть линейная комбинация
    компактных операторов также является компактным оператором.

    Покажем, что $\comp{X,Y}$ замкнуто в $L(X,Y)$. Пусть $\menge{A_n}$ --- последовательность 
    операторов из $\comp{X,Y}$ --- сходится
    по норме к $A$, то есть $\norm{A_n - A} \to 0$. Покажем, что $A$ компактен. Для этого покажем,
    что образ единичного шара $B(0,1)$ вполне ограничен (тогда, по теореме Хаусдорфа, он
    предкомпактен), то есть нужно доказать, что для каждого $\varepsilon > 0$ множество $A(B(0,1))$
    можно покрыть конечным числом шаров радиуса $\varepsilon$.

    Зафиксируем $\varepsilon > 0$. Пусть $m$ таково, что $\norm{A_m - A} < \varepsilon/2$.
    Поскольку $A_m(B(0,1))$ вполне ограниченное множество, по $\varepsilon/2$ для него найдется 
    конечное покрытие шарами радиуса $\epsilon/2$ с центрами в точках $y_i$, $i = \overline{1,k}$:
    \[ A_m(B(0,1)) \subset \bigcup_{i=1}^k B(y_i, \frac{\varepsilon}{2}). \]
    Покажем, что 
    \[ A(B(0,1)) \subset \bigcup_{i=1}^k B(y_i, \varepsilon). \]
    В самом деле, пусть $x \in B(0, 1)$ и $A_mx \in B(y_i, \varepsilon/2)$. Тогда
    \[ \norm{A_mx - Ax} < \frac{\varepsilon}{2} \]
    и
    \[ \norm{Ax - y_i} \leq \norm{Ax - A_mx} + \norm{A_mx - y_i} < \varepsilon, \]
    то есть $Ax$ лежит в шаре $B(y_i, \varepsilon) \subset \bigcup_{i=1}^k B(y_i, \varepsilon)$.
    Компактность оператора $A$ доказана, то есть $\comp{X,Y}$ --- замкнутое подпространство.

    Осталось доказать, что $\comp{X}$ образует двусторонний идеал в $L(X)$. Пусть $A \in \comp{X}$,
    $B \in L(X)$. Нужно показать, что $AB, BA \in \comp{X}$. Пусть $\menge{x_n}$ --- ограниченная
    последовательность в $X$. $\menge{Bx_n}$ также ограничена. Поскольку оператор $A$ компактен,
    из последовательности $\menge{A(Bx_n)}$ можно выделить сходящуюся, что в точности и означает,
    что $AB$ --- компактный оператор. Из последовательности $\menge{Ax_n}$ также можно выделить сходящуюся
    $\menge{Ax_{n_k}}$, но тогда и $\menge{B(Ax_{n_k})}$ сходится, значит $BA$
    компактен.
\end{proof}

\begin{lemma}[о почти перпендикуляре]
    Пусть $X$ --- банахово пространство, $M \subset X$ --- замкнутое подпространство,
    не совпадающее со всем $X$. Тогда
    для любого $\varepsilon > 0$ найдется такой $x \in X \setminus M$, $\norm{x} = 1$, что
    \[ 1 - \inf_{m\in M} \norm{x - m} < \varepsilon. \]
\end{lemma}

\begin{theorem}[Рисса]
    Пусть $X$ --- бесконечномерное банахово пространство. Тогда замкнутый шар 
    $\overline{B(a, r)}$ не является компактом.
\end{theorem}

\begin{proof}
    Докажем утверждение для единичного шара (общее утверждение следует). Возьмем произвольный
    $x_0$, $\norm{x_0} = 1$. Определим подпространство $M_1 = \linspan\menge{x_0}$. 
    По лемме о почти перпендикуляре для $\varepsilon = 1/2$ найдется такой 
    $x_1 \in X \setminus M_1$, $\norm{x_1} = 1$, что
    $\norm{x_1 - x_0} > 1/2$. Для подространства $M_2 = \linspan\menge{x_0, x_1}$ также 
    справедлива лемма о почти перпендикуляре, значит найдется $x_3 \in X \setminus M_2$, 
    $\norm{x_3} = 1$, что $\norm{x_2 - x_0} > 1/2$ и $\norm{x_2 - x_1} > 1/2$. Продолжая аналогично, получим
    последовательность $\menge{x_k}$ единичных векторов, находящихся друг от друга на расстоянии 
    большем $1/2$.
    Очевидно, что из такой последовательности выделить сходящуюся нельзя, а значит множество 
    $\overline{B(0, 1)}$ не предкомпактно.
\end{proof}

Следующая теорема полностью описывает спектры компактных операторов.

\begin{theorem}
    Пусть $A \in \comp{X}$. Тогда
    \begin{enumerate}
        \item Спектр оператора $A$ есть не более чем счетное множество с возможной единственной
        предельной точкой, равной нулю. Все точки спектра, отличные от нуля, являются собственными
        значениями. В бесконечномерном пространстве число $0$ всегда лежит в спектре $A$.
        \item Ядра $\ker(A- \lambda I)$ конечномерны для всех $\lambda \neq 0$, 
        $\lambda \in \spectrum{A}$.
        \item Более общо: ядра $\ker (A - \lambda I)^m$ конечномерны для всех ненулевых $\lambda$
        из спектра, причем найдется такой номер $n > 0$, что 
        $\ker (A - \lambda I)^n \hm= \ker (A - \lambda I)^{n+1}$.
    \end{enumerate}
\end{theorem}

\begin{proofbreak}
    \begin{enumerate}
        \item  Покажем только, что $0 \in \spectrum{A}$, если $X$ бесконечномерно. 

        Предположим противное:     оператор $A$ обратим, то есть существует оператор 
        $A^{-1} \in L(X)$ такой, что
        \[ AA^{-1} = I. \]
        Но поскольку $\comp{X}$ есть идеал в $L(X)$, оператор $I$ должен быть также компактен, что
        невозможно в случае бесконечномерного $X$ (образ единичного шара не предкомпактен в силу 
        теоремы Рисса).

        Остальные утверждения данного пункта оставим без доказательства.

        \item Покажем, что если $\lambda \neq 0$, то $X_0 = \ker(A - \lambda I)$ конечномерно.
        Ядро оператора $A - \lambda I$ инвариантно относительно оператора $A$: если 
        $x \hm\in \ker (A \hm- \lambda I)$, то $Ax = \lambda x \in \ker (A - \lambda I)$.
        Также, как нетрудно убедиться, $X_0$ --- замкнутое подпространство (значит, оно банахово).
        Значит можно определить сужение $A_0 = A|_{X_0}$ оператора $A$ на это подпространство.
        Оно имеет вид $A_0 = \lambda I_{0}$, где $I_0$ --- тождественный оператор в $X_0$. 
        Сужение компактного оператора на замкнутое подпространство, очевидно, также
        компактно, а значит $X_0$ конечномерно в силу той же теоремы Рисса.

        \item Без доказательства.
    \end{enumerate}
\end{proofbreak}

\begin{definition}
    Замкнутый оператор $A \colon D(A) \subset X \to X$ называется \emph{оператором с компактной 
    резольвентой}, если его резольвентное множество непусто и найдется такое 
    $\lambda_0 \in \resset{A}$, что оператор $\resolvent{\lambda_0}{A}$ компактен.
\end{definition}

\begin{lemma}
    Если $A$ --- оператор с компактной резольвентой, то для любого $\mu_0 \in \resset{A}$ оператор
    $\resolvent{\mu_0}{A}$ компактен.
\end{lemma}

\begin{proof}
    Пусть $\lambda_0 \in \resset{A}$ --- число из определения оператора с компактной резольвентой.
    Тогда из тождества Гильберта получаем
    \[ \resolvent{\mu_0}{A} = \resolvent{\lambda_0}{A} + (\mu_0 - \lambda_0)\resolvent{\mu_0}{A}
        \resolvent{\lambda_0}{A}. \]
    Оператор $\resolvent{\lambda_0}{A}$ компактен, значит компактен
    \[(\mu_0 - \lambda_0)\resolvent{\mu_0}{A}\resolvent{\lambda_0}{A},\]
    но тогда и $\resolvent{\mu_0}{A}$ компактен как сумма компактных операторов.
\end{proof}

\begin{theorem}\label{th:inverse_spectrum}\hfill\\
    \indent Пусть замкнутый оператор $A \colon D(A) \subset X \to X$ обратим. Тогда если
    $D(A) \neq X$, то
    \[ \spectrum{A^{-1}} 
        = \menge{\frac{1}{\lambda} : \lambda \in \spectrum{A}} \cup \menge{0}. \]

    Если же $D(A) = X$ (оператор $A$ тогда ограничен), то
    \[ \spectrum{A^{-1}} 
        = \menge{\frac{1}{\lambda} : \lambda \in \spectrum{A}}. \] 
\end{theorem}

\begin{proof}
    Пусть $D(A) \neq X$. Тогда $0 \in \spectrum{A^{-1}}$, поскольку $A^{-1}$ необратим (его образ
    не совпадает со всем $X$). Возьмем $\lambda_0 \in \resset{A}$ и покажем, 
    что $\lambda_0^{-1} \in \resset{A^{-1}}$. Обратным для
    $A^{-1} - \lambda_0^{-1} I$ является оператор $-\lambda_0 A (A - \lambda_0 I)^{-1}$,
    это проверяется непосредственно. Аналогично, если $\lambda_0 \in \resset{A^{-1}}$,
    то $\lambda_0^{-1} \in \resset{A}$, причем обратный для $A - \lambda_0^{-1} I$ есть
    $-\lambda_0 A^{-1}(A^{-1} - \lambda_0 I)^{-1}$.
\end{proof}

\begin{lemma}
    Если $A \colon D(A) \subset X \to X$ --- обратимый линейный замкнутый оператор, 
    а $x \in D(A)$ ---    собственный вектор, отвечающий собственному значению 
    $\lambda \in \spectrum[d]{A}$, $\lambda \neq 0$, то $x$ является собственным
    вектором оператора $A^{-1}$, соответствующим собственному значению $\lambda^{-1}$.
    Иначе утверждение леммы можно записать в виде
    \[ \ker (A - \lambda I) = \ker (A^{-1} - \lambda^{-1} I). \]
\end{lemma}

\begin{proof}
    Если $Ax = \lambda x$, то $x = \lambda A^{-1} x$. Дальнейшее очевидно.
\end{proof}

\begin{theorem}
    Пусть $A \colon D(A) \subset X \to X$ --- оператор с компактной резольвентой. Тогда
    \begin{enumerate}
        \item Его спектр состоит только из не более чем счетного числа собственных значений с 
        единственной возможной предельной точкой равной $\infty$.
        \item Ядра $\ker(A - \lambda I)$ конечномерны для всех $\lambda \in \spectrum{A}$.
    \end{enumerate}
\end{theorem}

\begin{proof}
    Пусть $\lambda_0 \in \resset{A}$. Тогда $(A - \lambda_0 I)^{-1}$ компактен, значит его спектр
    $\spectrum{(A - \lambda_0 I)^{-1}}$ счетен и единственной возможной предельной точкой является
    точка $0$. Из теоремы \ref{th:inverse_spectrum} следует, что
    \[ \spectrum{(A- \lambda_0 I)^{-1}} = \menge{\frac{1}{\lambda - \lambda_0} : \lambda \in 
        \spectrum{A}} \cup \menge{0},\]
    откуда получаем 
    \[ \spectrum{A} = \menge{\frac{1}{\mu} + \lambda_0 : \mu \in 
        \spectrum{(A- \lambda_0 I)^{-1}}, \mu \neq 0}. \]
    Отсюда следует, что оператор $A$ имеет не более чем счетный спектр с единственной
    возможной предельной точкой равной бесконечности.

    Покажем, что все точки спектра $A$ являются собственными значениями.
    Если $\lambda \in \spectrum{A}$, то $\lambda = \mu^{-1} + \lambda_0$, где 
    $\mu \in \spectrum{(A - \lambda_0 I)^{-1})}$. Поскольку оператор $(A - \lambda_0 I)^{-1}$ 
    компактен и $\mu \neq 0$, $\mu$ является собственным значением этого оператора, а значит
    найдется такой ненулевой $x \in X$, что
    \[ (A - \lambda_0 I)^{-1} x = \mu x. \]
    Из предыдущей леммы следует, что $x$ является собственным вектором оператора $A - \lambda_0 I$,
    соответствующим собственному значению $\mu^{-1} = \lambda - \lambda_0$, то есть, как легко 
    видеть, $x$ есть собственный вектор $A$, соответствующий собственному значению $\lambda$.
    Из леммы также получаем, что 
    \[ \ker((A - \lambda_0 I)^{-1} - (\lambda - \lambda_0)^{-1} I) = \ker(A - \lambda I), \]
    откуда сразу следует второе утверждение теоремы.
\end{proof}
